const Ie=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerpolicy&&(i.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?i.credentials="include":l.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(l){if(l.ep)return;l.ep=!0;const i=n(l);fetch(l.href,i)}};Ie();function T(){}function we(t){return t()}function fe(){return Object.create(null)}function N(t){t.forEach(we)}function Le(t){return typeof t=="function"}function Y(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Se(t){return Object.keys(t).length===0}function Ae(t,...e){if(t==null)return T;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function Z(t,e,n){t.$$.on_destroy.push(Ae(e,n))}function ae(t){return t==null?"":t}function ve(t,e,n){return t.set(n),e}function v(t,e){t.appendChild(e)}function A(t,e,n){t.insertBefore(e,n||null)}function I(t){t.parentNode.removeChild(t)}function xe(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function L(t){return document.createElement(t)}function P(t){return document.createTextNode(t)}function M(){return P(" ")}function S(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function Oe(t){return function(e){return e.preventDefault(),t.call(this,e)}}function b(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function je(t){return Array.from(t.childNodes)}function Q(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function X(t,e){t.value=e==null?"":e}function de(t,e,n,r){n===null?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}let oe;function U(t){oe=t}function Ee(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(r=>r.call(this,e))}const G=[],me=[],V=[],pe=[],ze=Promise.resolve();let ne=!1;function Ce(){ne||(ne=!0,ze.then(ke))}function le(t){V.push(t)}const te=new Set;let K=0;function ke(){const t=oe;do{for(;K<G.length;){const e=G[K];K++,U(e),Ne(e.$$)}for(U(null),G.length=0,K=0;me.length;)me.pop()();for(let e=0;e<V.length;e+=1){const n=V[e];te.has(n)||(te.add(n),n())}V.length=0}while(G.length);for(;pe.length;)pe.pop()();ne=!1,te.clear(),U(t)}function Ne(t){if(t.fragment!==null){t.update(),N(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(le)}}const W=new Set;let D;function re(){D={r:0,c:[],p:D}}function se(){D.r||N(D.c),D=D.p}function w(t,e){t&&t.i&&(W.delete(t),t.i(e))}function k(t,e,n,r){if(t&&t.o){if(W.has(t))return;W.add(t),D.c.push(()=>{W.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}}function Te(t,e){k(t,1,1,()=>{e.delete(t.key)})}function Be(t,e,n,r,l,i,s,o,u,c,g,m){let p=t.length,f=i.length,a=p;const x={};for(;a--;)x[t[a].key]=a;const _=[],d=new Map,h=new Map;for(a=f;a--;){const y=m(l,i,a),O=n(y);let j=s.get(O);j?r&&j.p(y,e):(j=c(O,y),j.c()),d.set(O,_[a]=j),O in x&&h.set(O,Math.abs(a-x[O]))}const E=new Set,ce=new Set;function ee(y){w(y,1),y.m(o,g),s.set(y.key,y),g=y.first,f--}for(;p&&f;){const y=_[f-1],O=t[p-1],j=y.key,H=O.key;y===O?(g=y.first,p--,f--):d.has(H)?!s.has(j)||E.has(j)?ee(y):ce.has(H)?p--:h.get(j)>h.get(H)?(ce.add(j),ee(y)):(E.add(H),p--):(u(O,s),p--)}for(;p--;){const y=t[p];d.has(y.key)||u(y,s)}for(;f;)ee(_[f-1]);return _}function B(t){t&&t.c()}function z(t,e,n,r){const{fragment:l,on_mount:i,on_destroy:s,after_update:o}=t.$$;l&&l.m(e,n),r||le(()=>{const u=i.map(we).filter(Le);s?s.push(...u):N(u),t.$$.on_mount=[]}),o.forEach(le)}function C(t,e){const n=t.$$;n.fragment!==null&&(N(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Me(t,e){t.$$.dirty[0]===-1&&(G.push(t),Ce(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function J(t,e,n,r,l,i,s,o=[-1]){const u=oe;U(t);const c=t.$$={fragment:null,ctx:null,props:i,update:T,not_equal:l,bound:fe(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:fe(),dirty:o,skip_bound:!1,root:e.target||u.$$.root};s&&s(c.root);let g=!1;if(c.ctx=n?n(t,e.props||{},(m,p,...f)=>{const a=f.length?f[0]:p;return c.ctx&&l(c.ctx[m],c.ctx[m]=a)&&(!c.skip_bound&&c.bound[m]&&c.bound[m](a),g&&Me(t,m)),p}):[],c.update(),g=!0,N(c.before_update),c.fragment=r?r(c.ctx):!1,e.target){if(e.hydrate){const m=je(e.target);c.fragment&&c.fragment.l(m),m.forEach(I)}else c.fragment&&c.fragment.c();e.intro&&w(t.$$.fragment),z(t,e.target,e.anchor,e.customElement),ke()}U(u)}class R{$destroy(){C(this,1),this.$destroy=T}$on(e,n){const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const l=r.indexOf(n);l!==-1&&r.splice(l,1)}}$set(e){this.$$set&&!Se(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const q=[];function Pe(t,e=T){let n;const r=new Set;function l(o){if(Y(t,o)&&(t=o,n)){const u=!q.length;for(const c of r)c[1](),q.push(c,t);if(u){for(let c=0;c<q.length;c+=2)q[c][0](q[c+1]);q.length=0}}}function i(o){l(o(t))}function s(o,u=T){const c=[o,u];return r.add(c),r.size===1&&(n=e(l)||T),o(t),()=>{r.delete(c),r.size===0&&(n(),n=null)}}return{set:l,update:i,subscribe:s}}var F=(t=>(t.All="All",t.Active="Active",t.Done="Done",t))(F||{});const ie="store",De=()=>{const t=JSON.parse(localStorage.getItem(ie)),{subscribe:e,set:n,update:r}=Pe(t||{todos:[],newItem:"",idCounter:0,filter:F.All});return{subscribe:e,set:n,update:r,...{addTodo:i=>r(s=>({...s,todos:[...s.todos,{id:s.idCounter,text:i,done:!1}],idCounter:s.idCounter+1})),removeTodo:i=>r(s=>({...s,todos:s.todos.filter(o=>o.id!==i)})),setFilter:i=>r(s=>({...s,filter:i})),refresh:()=>r(i=>({...i})),setStorage:i=>localStorage.setItem(ie,JSON.stringify(i))}}},$=De();function Ye(t){let e,n,r,l,i;return{c(){e=L("button"),n=P(t[1]),b(e,"type",t[0]),b(e,"class",r=ae(t[2])+" svelte-gw1oep")},m(s,o){A(s,e,o),v(e,n),l||(i=S(e,"click",t[3]),l=!0)},p(s,[o]){o&2&&Q(n,s[1]),o&1&&b(e,"type",s[0]),o&4&&r!==(r=ae(s[2])+" svelte-gw1oep")&&b(e,"class",r)},i:T,o:T,d(s){s&&I(e),l=!1,i()}}}function qe(t,e,n){let{type:r}=e,{text:l}=e,{classList:i=""}=e;function s(o){Ee.call(this,t,o)}return t.$$set=o=>{"type"in o&&n(0,r=o.type),"text"in o&&n(1,l=o.text),"classList"in o&&n(2,i=o.classList)},[r,l,i,s]}class ue extends R{constructor(e){super(),J(this,e,qe,Ye,Y,{type:0,text:1,classList:2})}}function Fe(t){let e,n,r,l,i,s,o;return l=new ue({props:{text:"Add",type:"submit"}}),{c(){e=L("form"),n=L("input"),r=M(),B(l.$$.fragment),b(n,"placeholder","What needs to be done?"),b(n,"class","svelte-zxzugk"),b(e,"class","svelte-zxzugk")},m(u,c){A(u,e,c),v(e,n),X(n,t[0].newItem),v(e,r),z(l,e,null),i=!0,s||(o=[S(n,"input",t[2]),S(e,"submit",Oe(t[1]))],s=!0)},p(u,[c]){c&1&&n.value!==u[0].newItem&&X(n,u[0].newItem)},i(u){i||(w(l.$$.fragment,u),i=!0)},o(u){k(l.$$.fragment,u),i=!1},d(u){u&&I(e),C(l),s=!1,N(o)}}}function Je(t,e,n){let r;Z(t,$,s=>n(0,r=s));const l=()=>{!r.newItem||($.addTodo(r.newItem),ve($,r.newItem="",r))};function i(){r.newItem=this.value,$.set(r)}return[r,l,i]}class Re extends R{constructor(e){super(),J(this,e,Je,Fe,Y,{})}}function he(t,e,n){const r=t.slice();return r[1]=e[n],r}function ge(t){let e,n;function r(){return t[0](t[1])}return e=new ue({props:{text:t[1],type:"button",classList:"filter"}}),e.$on("click",r),{c(){B(e.$$.fragment)},m(l,i){z(e,l,i),n=!0},p(l,i){t=l},i(l){n||(w(e.$$.fragment,l),n=!0)},o(l){k(e.$$.fragment,l),n=!1},d(l){C(e,l)}}}function Ge(t){let e,n,r=Object.values(F),l=[];for(let s=0;s<r.length;s+=1)l[s]=ge(he(t,r,s));const i=s=>k(l[s],1,1,()=>{l[s]=null});return{c(){e=L("div");for(let s=0;s<l.length;s+=1)l[s].c()},m(s,o){A(s,e,o);for(let u=0;u<l.length;u+=1)l[u].m(e,null);n=!0},p(s,[o]){if(o&0){r=Object.values(F);let u;for(u=0;u<r.length;u+=1){const c=he(s,r,u);l[u]?(l[u].p(c,o),w(l[u],1)):(l[u]=ge(c),l[u].c(),w(l[u],1),l[u].m(e,null))}for(re(),u=r.length;u<l.length;u+=1)i(u);se()}},i(s){if(!n){for(let o=0;o<r.length;o+=1)w(l[o]);n=!0}},o(s){l=l.filter(Boolean);for(let o=0;o<l.length;o+=1)k(l[o]);n=!1},d(s){s&&I(e),xe(l,s)}}}function Ue(t){return[n=>$.setFilter(n)]}class He extends R{constructor(e){super(),J(this,e,Ue,Ge,Y,{})}}function Ke(t){let e,n=t[0].text+"",r,l,i;return{c(){e=L("div"),r=P(n),b(e,"class","text svelte-1elw8mp")},m(s,o){A(s,e,o),v(e,r),l||(i=S(e,"dblclick",t[7]),l=!0)},p(s,o){o&1&&n!==(n=s[0].text+"")&&Q(r,n)},d(s){s&&I(e),l=!1,i()}}}function Ve(t){let e,n,r;return{c(){e=L("input"),b(e,"type","text")},m(l,i){A(l,e,i),X(e,t[2]),n||(r=[S(e,"input",t[6]),S(e,"blur",t[3])],n=!0)},p(l,i){i&4&&e.value!==l[2]&&X(e,l[2])},d(l){l&&I(e),n=!1,N(r)}}}function We(t){let e,n,r,l,i,s,o,u,c;function g(f,a){return f[1]?Ve:Ke}let m=g(t),p=m(t);return i=new ue({props:{classList:"delete",text:"\u2718",type:"button"}}),i.$on("click",t[8]),{c(){e=L("div"),n=L("input"),r=M(),p.c(),l=M(),B(i.$$.fragment),b(n,"type","checkbox"),b(n,"class","done svelte-1elw8mp"),b(e,"class",s="list-item "+(t[0].done?"completed":"")+" svelte-1elw8mp")},m(f,a){A(f,e,a),v(e,n),n.checked=t[0].done,v(e,r),p.m(e,null),v(e,l),z(i,e,null),o=!0,u||(c=[S(n,"change",t[5]),S(n,"change",t[4])],u=!0)},p(f,[a]){a&1&&(n.checked=f[0].done),m===(m=g(f))&&p?p.p(f,a):(p.d(1),p=m(f),p&&(p.c(),p.m(e,l))),(!o||a&1&&s!==(s="list-item "+(f[0].done?"completed":"")+" svelte-1elw8mp"))&&b(e,"class",s)},i(f){o||(w(i.$$.fragment,f),o=!0)},o(f){k(i.$$.fragment,f),o=!1},d(f){f&&I(e),p.d(),C(i),u=!1,N(c)}}}function Qe(t,e,n){let r;Z(t,$,f=>n(9,r=f));let{todo:l}=e,i=!1,s=l.text;const o=()=>{const f=s.trim();f&&(n(0,l.text=f,l),n(2,s=f),$.setStorage(r)),n(1,i=!1)},u=()=>{$.refresh()};function c(){l.done=this.checked,n(0,l)}function g(){s=this.value,n(2,s)}const m=()=>n(1,i=!0),p=()=>$.removeTodo(l.id);return t.$$set=f=>{"todo"in f&&n(0,l=f.todo)},[l,i,s,o,u,c,g,m,p]}class $e extends R{constructor(e){super(),J(this,e,Qe,We,Y,{todo:0})}}function _e(t,e,n){const r=t.slice();return r[13]=e[n],r}function be(t){let e,n,r;return n=new $e({props:{todo:t[6]}}),{c(){e=L("li"),B(n.$$.fragment),b(e,"class","ghost svelte-hjm7wt"),de(e,"top",t[4]+t[5]+"px")},m(l,i){A(l,e,i),z(n,e,null),r=!0},p(l,i){const s={};i&64&&(s.todo=l[6]),n.$set(s),(!r||i&48)&&de(e,"top",l[4]+l[5]+"px")},i(l){r||(w(n.$$.fragment,l),r=!0)},o(l){k(n.$$.fragment,l),r=!1},d(l){l&&I(e),C(n)}}}function ye(t,e){let n,r,l,i,s,o,u;r=new $e({props:{todo:e[13]}});function c(...m){return e[9](e[13],...m)}function g(){return e[11](e[13])}return{key:t,first:null,c(){n=L("li"),B(r.$$.fragment),l=M(),b(n,"class",i="item "+(e[7]===e[13].id?"invisible":"")+" svelte-hjm7wt"),b(n,"draggable","true"),this.first=n},m(m,p){A(m,n,p),z(r,n,null),v(n,l),s=!0,o||(u=[S(n,"dragstart",c),S(n,"drag",e[10]),S(n,"dragover",g),S(n,"dragend",e[12])],o=!0)},p(m,p){e=m;const f={};p&1&&(f.todo=e[13]),r.$set(f),(!s||p&129&&i!==(i="item "+(e[7]===e[13].id?"invisible":"")+" svelte-hjm7wt"))&&b(n,"class",i)},i(m){s||(w(r.$$.fragment,m),s=!0)},o(m){k(r.$$.fragment,m),s=!1},d(m){m&&I(n),C(r),o=!1,N(u)}}}function Xe(t){let e,n,r=[],l=new Map,i,s,o=t[0].count+"",u,c,g=t[0].count===1?"":"s",m,p,f,a=t[4]&&be(t),x=t[0].todos;const _=d=>d[13].id;for(let d=0;d<x.length;d+=1){let h=_e(t,x,d),E=_(h);l.set(E,r[d]=ye(E,h))}return{c(){e=L("ul"),a&&a.c(),n=M();for(let d=0;d<r.length;d+=1)r[d].c();i=M(),s=L("p"),u=P(o),c=P(" todo"),m=P(g),p=P(" in the list"),b(e,"class","svelte-hjm7wt")},m(d,h){A(d,e,h),a&&a.m(e,null),v(e,n);for(let E=0;E<r.length;E+=1)r[E].m(e,null);A(d,i,h),A(d,s,h),v(s,u),v(s,c),v(s,m),v(s,p),f=!0},p(d,[h]){d[4]?a?(a.p(d,h),h&16&&w(a,1)):(a=be(d),a.c(),w(a,1),a.m(e,n)):a&&(re(),k(a,1,1,()=>{a=null}),se()),h&511&&(x=d[0].todos,re(),r=Be(r,h,_,1,d,x,l,e,Te,ye,null,_e),se()),(!f||h&1)&&o!==(o=d[0].count+"")&&Q(u,o),(!f||h&1)&&g!==(g=d[0].count===1?"":"s")&&Q(m,g)},i(d){if(!f){w(a);for(let h=0;h<x.length;h+=1)w(r[h]);f=!0}},o(d){k(a);for(let h=0;h<r.length;h+=1)k(r[h]);f=!1},d(d){d&&I(e),a&&a.d();for(let h=0;h<r.length;h+=1)r[h].d();d&&I(i),d&&I(s)}}}function Ze(t,e,n){let r;Z(t,$,_=>n(3,r=_));let{filteredList:l}=e,i=null,s=null,o=null,u=null,c=null,g=null,m=null;const p=(_,d)=>{n(4,i=d.clientY),n(6,o=_),n(1,c=r.todos.findIndex(h=>h.id===_.id)),n(7,u=_.id),n(5,s=d.currentTarget.getBoundingClientRect().y-d.clientY)},f=_=>{n(4,i=_.clientY)},a=_=>{m!==_.id&&(n(2,g=r.todos.findIndex(d=>d.id===_.id)),n(8,m=_.id))},x=()=>{n(7,u=null),n(2,g=null)};return t.$$set=_=>{"filteredList"in _&&n(0,l=_.filteredList)},t.$$.update=()=>{t.$$.dirty&14&&c!=null&&g!=null&&c!=g&&(ve($,[r.todos[c],r.todos[g]]=[r.todos[g],r.todos[c]],r),n(1,c=g))},[l,c,g,r,i,s,o,u,m,p,f,a,x]}class et extends R{constructor(e){super(),J(this,e,Ze,Xe,Y,{filteredList:0})}}function tt(t){let e,n,r,l,i,s,o;return n=new Re({}),l=new et({props:{filteredList:t[0]}}),s=new He({}),{c(){e=L("main"),B(n.$$.fragment),r=M(),B(l.$$.fragment),i=M(),B(s.$$.fragment),b(e,"class","svelte-w7u3oi")},m(u,c){A(u,e,c),z(n,e,null),v(e,r),z(l,e,null),v(e,i),z(s,e,null),o=!0},p(u,[c]){const g={};c&1&&(g.filteredList=u[0]),l.$set(g)},i(u){o||(w(n.$$.fragment,u),w(l.$$.fragment,u),w(s.$$.fragment,u),o=!0)},o(u){k(n.$$.fragment,u),k(l.$$.fragment,u),k(s.$$.fragment,u),o=!1},d(u){u&&I(e),C(n),C(l),C(s)}}}function nt(t,e,n){let r,l;Z(t,$,s=>n(1,l=s)),$.subscribe(s=>{localStorage.setItem(ie,JSON.stringify(s))});const i=s=>{let o=[];return l.filter===F.Done?o=s.filter(u=>u.done):l.filter===F.Active?o=s.filter(u=>!u.done):o=s,{todos:o,count:o.length}};return t.$$.update=()=>{t.$$.dirty&2&&n(0,r=i(l.todos))},[r,l]}class lt extends R{constructor(e){super(),J(this,e,nt,tt,Y,{})}}new lt({target:document.getElementById("app")});
